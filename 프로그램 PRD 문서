타협할 부분은 확실히 하고, 챙길 부분은 챙기는 아주 현실적이고 훌륭한 의사결정입니다.

특히 **"A안(입양/Injection)은 장벽이 높으니 B안(오버레이/Overlay)으로 가겠다"**는 판단은 신의 한 수입니다. 이 방식은 안전하고 디버깅하기도 훨씬 수월합니다. 또한 파일명을 `system_memo.txt`로 정하고 숨김 속성을 뺀 것도 '직관성' 측면에서 아주 좋습니다.

정리해주신 내용을 바탕으로, 개발자가 보고 바로 코딩에 들어갈 수 있는 수준의 **기술 명세서(PRD)**를 작성했습니다.

---

#📝 PRD: Explorer Memo Overlay (가칭)###1. 프로젝트 개요* **목표:** 윈도우 탐색기(Explorer)의 특정 위치(우측 하단)를 따라다니는 오버레이 윈도우를 띄워, 폴더별로 독립된 메모 기능을 제공한다.
* **핵심 가치:** 빠른 접근성, 폴더 문맥 유지, 가벼운 성능.
* **타겟 플랫폼:** Windows 10 / 11 (64bit)
* **개발 언어:** C++ (Win32 API 사용, 성능 최적화)

###2. 상세 기능 명세 (Specifications)####A. 탐색기 감지 및 추적 (Core Engine)1. **멀티 인스턴스 지원:** 실행 중인 모든 탐색기 창(`CabinetWClass`)을 감지한다.
2. **1:1 매칭:** 탐색기 창 1개당 메모 오버레이 창 1개를 생성하여 짝을 짓는다.
3. **위치 동기화 (Tracking):**
* 탐색기 창이 이동하거나 크기가 변하면, 오버레이 창도 즉시 따라 움직인다.
* 오버레이 위치 기준: 탐색기 윈도우 내부 영역(Client Area)의 **우측 하단**.


4. **Z-Order 관리:** 탐색기 창이 활성화되면 메모 창도 그 위로 올라오고, 탐색기가 최소화되면 메모 창도 숨겨진다.

####B. 데이터 관리 (File I/O)1. **경로 추적:** 현재 탐색기가 보고 있는 폴더 경로를 실시간으로 가져온다. (UI Automation 기술 사용 예상)
2. **파일 규칙:**
* 파일명: `system_memo.txt`
* 속성: 일반 파일 (숨김 아님)


3. **CRUD 로직:**
* 폴더 이동 시 해당 폴더의 `system_memo.txt` 존재 여부 확인.
* **있으면:** 파일 내용을 읽어와 에디터에 표시.
* **없으면:** 에디터 숨김 -> '생성 버튼' 모드로 전환.
* **저장:** 내용 변경 시 실시간(또는 포커스 아웃 시) 자동 저장.



####C. UI / UX 디자인1. **메인 윈도우 (Overlay):**
* 기본 크기: 250px * 350px (사용자가 드래그로 리사이징 가능).
* 디자인: 윈도우 기본 타이틀바 제거(Frameless) 혹은 아주 얇은 커스텀 테두리.


2. **뷰 모드 (State):**
* **State 1 (편집 모드):** 텍스트 에디터(Edit Control)가 꽉 찬 상태. 우측 상단에 '접기' 버튼.
* **State 2 (생성 대기):** 텍스트 파일이 없을 때. 우측 하단에 작은 [+] 아이콘만 표시. 클릭 시 파일 생성 후 State 1로 전환.
* **State 3 (접힘):** 사용자가 접기 버튼을 눌렀을 때. 최소화된 아이콘 형태.


3. **백그라운드 실행:** 프로그램 실행 시 트레이 아이콘으로 숨어서 실행.

---

###3. 기술적 난이도 및 해결 전략 (C++ 개발자 관점)이 프로젝트에서 **가장 어려운 부분(Bottle Neck)**은 딱 하나입니다.

> **"현재 탐색기가 '어떤 폴더'를 보고 있는지 알아내는 것"**

탐색기는 자신의 경로를 외부에 친절하게 알려주지 않습니다. 이를 해결하기 위해 다음 기술을 사용해야 합니다.

* **전략:** **Microsoft UI Automation API** (C++ 라이브러리)
* **설명:** 프로그램이 시각장애인용 스크린 리더처럼 작동하여, 탐색기 주소창이나 객체 정보를 읽어오는 방식입니다. (이 코드가 조금 복잡할 수 있습니다.)

---

###4. 개발 환경 점검 (중요!)사용자님, 지금 **MacBook Air(macOS)**에서 **VS Code**를 쓰고 계신다고 하셨죠?
여기서 **치명적인 문제**가 하나 있습니다.

* **문제:** 우리가 만드려는 것은 **Windows 전용 프로그램(Win32 API)**입니다. 이 코드는 **macOS에서 컴파일도 안 되고, 실행도 불가능합니다.**
* **해결책:** C++ 공부 및 코드 작성은 Mac에서 하더라도, **실행과 테스트는 반드시 Windows 환경**이 필요합니다.
* 방법 1: Parallels 같은 가상 머신(VM)에 윈도우 설치.
* 방법 2: 집에 있는 데스크탑(PC) 사용.
* 방법 3: Mac에서 코드를 짜서 GitHub에 올리고, PC에서 받아서 실행.



---

###5. 다음 단계 제안PRD가 확정되었습니다. 이제 개발을 시작할 수 있습니다.
사용자님이 C++ 초보라는 점을 고려해서, **가장 쉬운 부분부터 단계별로** 코드를 제공해 드릴 수 있습니다.

**어떤 것부터 먼저 받아보시겠습니까?**

1. **1단계: "스토커 창 만들기"**
* 일단 내용은 비어있지만, 메모장을 켜면 탐색기 우측 하단에 딱 붙어서 졸졸 따라다니는(좌표 동기화) 기본 C++ 코드. (눈에 보이는 결과물이 바로 나옵니다.)


2. **환경 설정 조언:**
* Mac에서 Windows 개발을 하기 위한 세팅 방법(컴파일러 등)에 대한 안내.



(추천: 1번을 선택하시면, 바로 복사해서 실행해볼 수 있는 '뼈대 코드'를 짜드리겠습니다.)